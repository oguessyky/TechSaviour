<!DOCTYPE html>
<html lang="en" class="loginPage">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE-edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel="icon" type="../image/x-icon" href="../image/thumbnail.png">
    <link rel="stylesheet" href="../style.css">
</head>

<body class="loginPage">
    <div class="login">
        <form>
            <h2>Login</h2>
            <div class="input">
                <span></span>
                <input type="text" id = "login_username" name = "username" placeholder="Username" required autofocus>
            </div>
            <div class="input">
                <span></span>
                <input type="password" placeholder="Password" required>
            </div>
            <div class="input">
                <input type="submit" value="Sign in">
            </div>
            <div class="group">
                <a href="#" id="registerLink">Register</a>
            </div>
        </form>
    </div>

    <div class="register" style="display: none;">
        <form name = "Register" method = "post" onsubmit="return validateRegistration()" action = "Register.php">
            <h2>Register</h2>
            <div class="input">
                <span></span>
                <input type="text" name = "username" id = "register_username" placeholder="Username" required autofocus>
            </div>
            <div class="input">
                <span></span>
                <input type="email" name = "email" placeholder="Email" required pattern = "^[\w._%+\-]+@[\w.\-]+.[a-zA-Z]{2,}$">
            </div>
            <div class="input">
                <span></span>
                <input type="password" name = "password" placeholder="Password" required>
            </div>
            <div class="input">
                <span></span>
                <input type="password" name = "password_confirm" placeholder="Confirm Password" required>
            </div>
            <div class="input">
                <input type="submit" value="Register">
            </div>
            <div class="group">
                <a href="#" id="loginLink">Login</a>
            </div>
        </form>
    </div>

    <script>
        document.getElementById('registerLink').addEventListener('click', function(event) {
            event.preventDefault();
            document.body.classList.remove('loginPage');
            document.body.classList.add('registerPage');
            document.querySelector('.login').style.display = 'none';
            document.querySelector('.register').style.display = 'flex'; // Ensure it's flex to maintain centering
            document.title = 'Register';
            document.getElementById('register_username').focus();
        });

        document.getElementById('loginLink').addEventListener('click', function(event) {
            event.preventDefault();
            document.body.classList.remove('registerPage');
            document.body.classList.add('loginPage');
            document.querySelector('.register').style.display = 'none';
            document.querySelector('.login').style.display = 'flex'; // Ensure it's flex to maintain centering
            document.title = 'Login';
            document.getElementById('login_username').focus();
        });

        function validateRegistration() {
            form = document.forms['Register'];
            if (form['password'].value != form['password_confirm'].value) {
                alert('Password mismatch!')
                return false;
            }
        }
    </script>
</body>
</html>
